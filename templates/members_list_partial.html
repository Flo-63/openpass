<div id="members-list" class="bg-white rounded shadow p-4 h-[80vh] flex flex-col">

  <!-- ğŸ§­ Kopfbereich -->
  <div class="flex justify-between items-center mb-3 pb-2 border-b border-gray-200">
    <h2 class="text-xl font-semibold">Mitgliederliste</h2>
    <div class="flex gap-2">
      <button
        hx-get="/members/new"
        hx-target="#members-list"
        hx-swap="outerHTML"
        class="bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700">
        â• Neues Mitglied
      </button>
    </div>
  </div>

  <!-- ğŸ“‹ Tabelle mit festem Layout -->
  <div class="flex-1 flex flex-col border rounded overflow-hidden">
    <div class="overflow-y-auto flex-1">
      <table class="w-full border-collapse text-sm table-fixed">
        <thead class="bg-gray-100 sticky top-0 z-10 shadow-sm">
          <tr class="border-b border-gray-300">
            <th class="px-3 py-2 text-left" style="width: 20%;">Vorname</th>
            <th class="px-3 py-2 text-left" style="width: 20%;">Nachname</th>
            <th class="px-3 py-2 text-left" style="width: 15%;">Eintritt</th>
            <th class="px-3 py-2 text-left" style="width: 25%;">Rolle</th>
            <th class="px-3 py-2 text-right" style="width: 20%;">Aktionen</th>
          </tr>
        </thead>
        <tbody>
          {% for m in members %}
          <tr class="border-b hover:bg-gray-50">
            <td class="px-3 py-1 text-left" style="width: 20%;">{{ m.firstname }}</td>
            <td class="px-3 py-1 text-left" style="width: 20%;">{{ m.lastname }}</td>
            <td class="px-3 py-1 text-left" style="width: 15%;">{{ m.join_year }}</td>
            <td class="px-3 py-1 text-left" style="width: 25%;">{{ m.role }}</td>
            <td class="px-3 py-1 text-right" style="width: 20%;">
              <!-- Bearbeiten -->
              <button hx-get="/members/edit/{{ m.email_hash }}"
                      hx-target="#members-list"
                      hx-swap="outerHTML"
                      class="text-blue-600 hover:underline"
                      title="Bearbeiten">âœï¸</button>
              <!-- LÃ¶schen -->
              <button hx-delete="/members/delete/{{ m.email_hash }}"
                      hx-target="#members-list"
                      hx-swap="outerHTML"
                      hx-confirm="Soll dieses Mitglied wirklich gelÃ¶scht werden?"
                      class="text-red-600 hover:underline"
                      title="LÃ¶schen">ğŸ—‘ï¸</button>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

  <!-- ğŸ“Š FuÃŸbereich -->
  <div class="mt-3 text-sm text-gray-500 text-center border-t pt-2 flex-shrink-0">
    Zeige {{ members|length }} Mitglieder
  </div>

</div>
